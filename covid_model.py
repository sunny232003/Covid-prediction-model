# -*- coding: utf-8 -*-
"""covid_model.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1UaBPr4yEW68_OBwgaGjnERwbAgZS7hOK
"""

import pandas as pd
from prophet import Prophet

from google.colab import drive
drive.mount('/gdrive')

df = pd.read_csv('/gdrive/MyDrive/COVID19_India.csv')
df.head(5)

df.rename(columns = {'date':'ds','new_cases':'y'}, inplace = True)
df.head(10)

df_new = df[['ds','y']].copy()
df_new

#fitting dataset into the model
model = Prophet(interval_width = 0.95)
model.fit(df_new)

#730 periods for 2 years (roughly)
future_dates = model.make_future_dataframe(periods=730)
future_dates

#lower and upper limits
prediction = model.predict(future_dates)
prediction[['ds','yhat','yhat_lower','yhat_upper']]

#main prediction plot
df_plot = model.plot(prediction)

weekly = model.plot_components(prediction)